Page({data:{menu:[],pageIndex:2,member:!1,orderList:!1,resultList:!1,currentTab:0},onLoad:function(t){console.log(t),wx.showLoading({title:"",success:this.loadOrderList})},loadOrderList:function(){let t=this,e={url:wx.getStorageSync("host")+"/order/queryMyOrder",data:{token:wx.getStorageSync("token"),userId:wx.getStorageSync("userId")},method:"POST",dataType:"json",success:function(e){if(wx.hideLoading(),200===e.statusCode){let a=e.data;wx.setNavigationBarTitle({title:"我的订单"}),+a.flag||(console.log(a.data),t.setData({orderList:a.data,resultList:a.data}))}}};wx.getStorageSync("userId")?wx.request(e):wx.hideLoading()},changeTab:function(t){let e=t.target,a=e.dataset.index,s=e.dataset.value||"全部",r=this.data.orderList,o=[];if("全部"==s)o=r;else for(let t in r)r[t].payStatus===s&&o.push(r[t]);this.setData({currentTab:a,resultList:o})}});